<h2>Login</h2>


<div id="id" >
    <form [formGroup]="loginForm" (ngSubmit)="checkLoginDetails()" *ngIf="!isForgotPassword" >
        <div class="form-group" *ngIf="!isresetPassword">
            <label for="email_id">email_id</label>
            <input  type="text" formControlName="email_id" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.email_id.errors }"
            />
            <div *ngIf="submitted && f.email_id.errors" class="invalid-feedback">
                <div *ngIf="f.email_id.errors.required">email_id is required</div>
            </div>
        </div>
        <div class="form-group" *ngIf="!isresetPassword">
            <label for="password">Password</label>
            <input  type="password" formControlName="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
            />
            <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                <div *ngIf="f.password.errors.required">Password is required</div>
            </div>
        </div>
        <div class="form-group" *ngIf="!isresetPassword">
            <button [disabled]="loading" class="btn btn-primary">Login</button>
            <!-- <a [routerLink]="['/register']" class="btn btn-link">Register</a> -->
            <button [disabled]="loading" class="btn btn-primary" (click)="Register()">Register</button>
        </div>
    </form>
    <div *ngIf="!isresetPassword">
        <div *ngIf="!isForgotPassword">
    <label id="label_rememberMe">Remember me</label>
    <input type="checkbox" id="checkbox" (click)="RememberingEmail()">
        </div>
        <div *ngIf="!isForgotPassword">
    <label id="label_newuser">New User:</label>
    <button id="register" (click)="Register()">NEW USER</button>
</div>
    </div>
    &nbsp; &nbsp; &nbsp;

    <a id="forgot" href="javascript:void(0)" (click)="this.isForgotPassword= true;">Forgot Password?
    </a>
    <form [formGroup]="forgotpasswordForm" (submit)="CheckEmail()" *ngIf="isForgotPassword">
        Enter Email:<input type="text" formControlName="email_id" *ngIf="!isresetPassword"><br/>
        <button id="emailsubmitofforgotpassword">Submit</button>
      </form>
      <form [formGroup]="resetpasswordForm" (submit)="ResetPassword()" *ngIf="isresetPassword">
        Enter New Password:<input type="password" formControlName="newpassword"><br/><br/>
        Confirm Password:<input type="password" formControlName="confirmpassword"><br/>
        <button id="resetpassword">Reset Password</button>
      </form>
    <!-- <div class="forgotpasswordForm"  *ngIf="isForgotPassword">

        <button type="button" class="btn" (click)="this.isForgotPassword=
                    false;">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="ForgotPassword()">Get email to reset passowrd</button>
    </div> -->
    <div class="container-fluid">
        <div class="row" style="text-align: -webkit-center">
            <div class="col-md-12">
                <button class="btn btn-primary" style="background-color:blue; border-color:brown;" (click)="socialSignIn('facebook')">
                    <i class="fa fa-facebook"></i>Facebook</button>
                <button class="btn btn-primary" style="background-color:blue; border-color:brown;" (click)="socialSignIn('google')">
                    <i class="fa fa-google"></i>Google</button>
            </div>
            <div class="col-md-12" style="text-align: -webkit-center">
                <div *ngIf="user!=null" class="card" style="width: 20rem;margin:20px 0 24px 0; text-align:-webkit-center;">
                    <img [src]="user.photoUrl" alt="image" style="width: 200px; border-radius:50%;margin-top:10px;">
                    <div class="card-body">
                        <h4 class="card-title">{{user.name}}</h4>
                        <p class="card-text">{{user.email}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<div *ngIf = "loading">
<app-user-profile [userProfile]='user1'></app-user-profile>
</div>
<!-- <div id="modal_forgotpassword1" class="modal_forgotpassword1">
<div class="modal-content_forgotpassword1">
  <span class="close" (click)="CloseForgotPasssword1()">&times;</span>
  <form [formGroup]="forgotpasswordForm" (submit)="CheckEmail()">
    Enter Email:<input type="text" formControlName="email"><br/>
    <button id="emailsubmitofforgotpassword">Submit</button>
  </form>
</div>
</div> -->
<!--
<div id="modal_showsecurityquestion" class="modal_showsecurityquestion">
<div class="modal-content_showsecurityquestion">
  <span class="close" (click)="closeshowsecurityquestion()">&times;</span>
  <form [formGroup]="showsecurityquestionForm" (submit)="CheckSecurityAnswer()">
    Security Question:<input type="text" formControlName="securityquestion"><br/>
    Enter Security Answer:<input type="text" formControlName="securityanswer"><br/>
    <button id="securityAnswerSubmit">Submit</button>
  </form>
</div>
</div>


<div id="modal_forgotpassword2" class="modal_forgotpassword2">
<div class="modal-content_forgotpassword2">
  <span class="close" (click)="CloseForgotPasssword2()">&times;</span>
  <form [formGroup]="resetpasswordForm" (submit)="ResetPassword()">
    Enter New Password:<input type="password" formControlName="password"><br/>
    Confirm Password:<input type="password" formControlName="confirmpassword"><br/>
    <button id="resetpassword">Reset Password</button>
  </form>
</div>
</div> -->
<!-- <div id="googlelogin"><a href="#" onclick="renderGoogleLoginOption()" >
    <img class="fbloginLink" src="assets/images/LoginWithGoogle3.png"/>
</a> <script>renderGoogleLoginOption()</script>
</div>
<P></P>
<div id="fblogin">
<a href="#" onclick="fbLogin()"  id="fbLink">
    <img class="fbloginLink" src="assets/images/LoginWithFacebook.png"/>
</a>
</div> -->
<!-- <button (click)="socialSignIn('facebook')" class="btn btn-social btn-facebook">
<span class="fa fa-facebook"></span> Sign in with Facebook</button>
<button (click)="socialSignIn('google')" class="btn btn-social btn-google">
<span class="fa fa-google"></span> Sign in with Google</button> -->